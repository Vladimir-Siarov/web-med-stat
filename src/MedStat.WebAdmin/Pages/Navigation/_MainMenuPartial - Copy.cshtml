@using MedStat.WebAdmin.Classes
@using Microsoft.AspNetCore.Identity

@inject SignInManager<MedStat.Core.Identity.SystemUser> SignInManager

@if (SignInManager.IsSignedIn(User))
{
	<nav class="navbar navbar-expand-md navbar-light">
		<div class="container">

			@* Navbar brand *@
			<a class="navbar-brand" asp-area="" asp-page="/Index">МедСтат.Админ</a>

			@* Collapse button *@
			<button class="navbar-toggler" type="button" data-toggle="collapse" 
			        data-target="#navbarMainContent" aria-controls="navbarMainContent"
							aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>


			@* Collapsible content *@
		<div class="collapse navbar-collapse justify-content-between ml-4" id="navbarMainContent">

			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link @(ViewData.IsCompanyMainMenuSelected() ? "active" : "")" 
					   asp-area="" asp-page="/Companies/Index">
						Компании
					</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
						 aria-haspopup="true" aria-expanded="false">
						Сотрудники
					</a>
					<div class="dropdown-menu dropdown-menu-right dropdown-info" aria-labelledby="navbarDropdownMenuLink-4">
						<a class="dropdown-item" href="#">Менеджеры компаний</a>
						<a class="dropdown-item" href="#">Бухгалтерия</a>
					</div>
				</li>
			</ul>

			<div class="menu-horizontal-divider"></div>

			<partial name="~/Pages/Navigation/_LoginPartial.cshtml" />

		</div>
		</div>
	</nav>
}
else
{
	<nav class="navbar navbar-expand navbar-light">
		<div class="container">

			@* Navbar brand *@
			<a class="navbar-brand" asp-area="" asp-page="/Index">МедСтат.Админ</a>
			
			<div class="justify-content-end ml-4">

				<partial name="~/Pages/Navigation/_LoginPartial.cshtml" />

			</div>
		</div>
	</nav>
}