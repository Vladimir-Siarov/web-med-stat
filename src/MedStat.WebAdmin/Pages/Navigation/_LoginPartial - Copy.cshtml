@using Microsoft.AspNetCore.Identity

@inject SignInManager<MedStat.Core.Identity.SystemUser> SignInManager
@inject UserManager<MedStat.Core.Identity.SystemUser> UserManager

<div class="dropdown">

	@if (SignInManager.IsSignedIn(User))
	{
		
		<button class="btn btn-light dropdown-toggle" id="navbar_ProfileDropdownMenuLink" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false">
			@User.Identity.Name
		</button>

		<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar_ProfileDropdownMenuLink">
			<li>
				<a class="dropdown-item" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage Profile">Profile</a>
			</li>
			<li>
				<a class="dropdown-item" href="javascript:void(0)" onclick="$('#navbar_btnLogout').click()">Logout</a>
			</li>
			<li>
				<a class="dropdown-item" asp-area="" asp-page="/Privacy">Privacy</a>
			</li>
		</ul>

		<form class="d-none" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/", new { area = "" })" method="post">
			<button type="submit" id="navbar_btnLogout" class="nav-link btn btn-link">Logout</button>
		</form>
		
	}
	else
	{
		
		<button class="btn btn-light dropdown-toggle" id="navbar_ProfileDropdownMenuLink" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false">
			<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
			</svg>
		</button>

		<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar_ProfileDropdownMenuLink">
			<li>
				<a class="dropdown-item" asp-area="Identity" asp-page="/Account/Login" title="Login">Login</a>
			</li>
			@*<a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Register">Register</a>*@
			<li>
				<a class="dropdown-item" asp-area="" asp-page="/Privacy">Privacy</a>
			</li>
		</ul>

	}
</div>
